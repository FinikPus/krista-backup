.. _usage:

Использование
=============

.. _run_task:

Запуск заданий
-------------------------

Для запуска заданий вручную:

.. code:: bash

  KristaBackup run task_name

Для логгирования выполнения в терминал существует флаг ``-v/--verbose``:

.. code:: bash

  KristaBackup run task_name -v

.. _crontab_task:

Работа с crontab
----------------

Выполнение заданий можно автоматизировать добавлением в ``crontab``.
Для этого у них должен быть указан атрибут ``cron``, содержащий
время в формате ``cron``.

Добавление заданий в crontab
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. code:: bash

  KristaBackup en task_name
  KristaBackup enable task_name

Удаление задания из crontab
~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. code:: bash

  KristaBackup dis task_name
  KristaBackup disable task_name

Также, все задания (которые указаны в ``config.yaml``) можно одновременно
добавить в ``crontab`` или удалить из него используя ключевое слово ``all``.

cron-расписания с заданиями хранятся в ``crontab`` пользователя,
который указан в конфигурации (по умолчанию -- ``root``).

Запуск веб-модуля
-----------------

В приложение также встроен веб-модуль. С его помощью
можно просмотривать файлы логов и состояние триггер-файла,
если он используется.

Для запуска веб-модуля нужно выполнить следующую команду:

.. code:: bash

  KristaBackup run web_module

Вышеописанную информацию также можно увидеть при запуске
приложения с флагом ``--help``.
